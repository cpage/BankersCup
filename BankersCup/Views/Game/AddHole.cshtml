@model BankersCup.Models.AddHoleScoreViewModel

@{
    Layout = "~/Views/Shared/_HeaderLayout.cshtml";
    ViewBag.Title = "Add Next Hole";
}
@if (@Model.AllHoleScoresEntered)
{
    <p>Your round is done my friend.</p>
    @Html.ActionLink("Return to Game", "Details", new { id = Model.GameId })
} else { 
using (Html.BeginForm())
    {
        @Html.AntiForgeryToken()
        @Html.HiddenFor(model => model.HoleNumber)
        @Html.HiddenFor(model => model.Distance)
        @Html.HiddenFor(model => model.Par)
        @Html.HiddenFor(model => model.GameId)
        @Html.HiddenFor(model => model.TeamId)

    <img class="dialog-section-image" src="~/Content/icon_round_details.png" />
    <table class="table-dialog-content">
        <thead>
            <tr>
                <td>Hole</td>
                <td>Par</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.HoleNumber</td>
                <td>@Model.Par</td>
            </tr>
        </tbody>
    </table>
    <table class="table-dialog-content">
        <thead>
            <tr>
                <td>Distance</td>
                <td>Avg. Score</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>@Model.Distance</td>
                <td>@Model.AverageScore.ToString("#.0")</td>
            </tr>
        </tbody>
    </table>
    <table class="table-dialog-content">
        <thead>
            <tr>
                <td>Enter Team Score</td>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td>
                    @Html.EditorFor(model => model.TeamScore, new { htmlAttributes = new { @class = "table-data-entry dialog-text-input", autofocus=true } })
                </td>
            </tr>
            <tr>
                <td>
                    <input type="submit" value="Save Score" class="dark-button table-data-entry" />
                </td>
            </tr>
        </tbody>
    </table> 

    }
}

@section scripts {
    <script>
        $(document).ready(function () {
            $("#TeamScore").select();
        })
    </script>
}